diff --git a/src/pdngen/src/PdnGen.tcl b/src/pdngen/src/PdnGen.tcl
index ddd4b124..e28e1bf3 100644
--- a/src/pdngen/src/PdnGen.tcl
+++ b/src/pdngen/src/PdnGen.tcl
@@ -2681,10 +2681,14 @@ proc export_opendb_power_pin {net_name signal_type} {
   set net [$block findNet $net_name]
   set bterm [odb::dbBTerm_create $net "${net_name}"]
 
-  set bpin [odb::dbBPin_create $bterm]
-  $bpin setPlacementStatus "FIRM"
+  $bterm setSpecial
+  $bterm setSigType $signal_type
+  $bterm setIoType "INOUT"
 
   foreach lay [lreverse $metal_layers] {
+	if { [is_rails_layer $lay] } { 
+	  continue
+	}
     if {[array names stripe_locs "$lay,$signal_type"] == ""} {continue}
     foreach shape [::odb::getPolygons $stripe_locs($lay,$signal_type)] {
       set points [::odb::getPoints $shape]
@@ -2698,11 +2702,13 @@ proc export_opendb_power_pin {net_name signal_type} {
       set yMax [expr max([[lindex $points 0] getY], [[lindex $points 1] getY], [[lindex $points 2] getY], [[lindex $points 3] getY])]
 
       set layer [$tech findLayer $lay]
-      odb::dbBox_create $bpin $layer $xMin $yMin $xMax $yMax
+	  set bpin [odb::dbBPin_create $bterm]
+	  $bpin setPlacementStatus "FIRM"
+	  odb::dbBox_create $bpin $layer $xMin $yMin $xMax $yMax
     }
     # debug "created $count pins on $net_name (layer:$lay)"
     # Only promote metal on top layers to be pins
-    break
+    # break
   }
 }
 
@@ -4518,7 +4524,7 @@ proc opendb_update_grid {} {
   utl::info "PDN" 15 "Writing to database"
   export_opendb_vias
   export_opendb_specialnets
-  # export_opendb_power_pins
+  export_opendb_power_pins
 }
   
 proc apply_pdn {config is_verbose} {
